<div class="weather-container">
  <div class="weather-card">
    <h1>Weather App</h1>
    
    <div class="search-section">
      <input 
        type="text" 
        [(ngModel)]="cityName" 
        (keyup.enter)="searchWeather()"
        placeholder="Enter city name"
        class="city-input"
      />
      <button (click)="searchWeather()" class="search-button">Search</button>
    </div>

    @if (loading) {
      <div class="loading">Loading...</div>
    }

    @if (error) {
      <div class="error-message">{{ error }}</div>
    }

    @if (weather && !loading) {
      <div class="weather-info">
        <div class="location">
          <h2>{{ weather.name }}, {{ weather.sys.country }}</h2>
        </div>

        <div class="weather-main">
          <div class="temperature">
            <span class="temp-value">{{ weather.main.temp | number:'1.0-0' }}°C</span>
            <div class="weather-icon">
              <img 
                [src]="'https://openweathermap.org/img/wn/' + weather.weather[0].icon + '@2x.png'" 
                [alt]="weather.weather[0].description"
              />
            </div>
          </div>
          <div class="weather-description">
            {{ weather.weather[0].description }}
          </div>
        </div>

        <div class="weather-details">
          <div class="detail-item">
            <span class="detail-label">Feels Like</span>
            <span class="detail-value">{{ weather.main.feels_like | number:'1.0-0' }}°C</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Humidity</span>
            <span class="detail-value">{{ weather.main.humidity }}%</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Wind Speed</span>
            <span class="detail-value">{{ weather.wind.speed }} m/s</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Pressure</span>
            <span class="detail-value">{{ weather.main.pressure }} hPa</span>
          </div>
        </div>
      </div>
    }

    @if (!weather && !loading && !error) {
      <div class="welcome-message">
        <p>Enter a city name to get the current weather</p>
        <p class="api-note">Note: Using demo API key. For production use, get your free API key from <a href="https://openweathermap.org/api" target="_blank">OpenWeatherMap</a></p>
      </div>
    }
  </div>
</div>

<router-outlet />
